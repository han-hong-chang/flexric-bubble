Design of the proxy agent

1. Proxy agent software decomposition

Below the communication between RIC and proxy agent with the interfaces E2/WS/E42 involved.

    +-----+                  +-------------+
    | RIC | <------------->  | Proxy Agent | <------> RAN
    +-----+                  +-------------+               
    E42  E2                  E2           WS

Details on proxy agent E2 interface

   +----+     +----------+      +----------+
   |ASIO| --> | MSG_HDLR | <--> |    SMs   |   <-->  send/recv to WS interface (proxy_agent/notif_e2_ws.h, proxy_agent/ringbuffer.h)
   +----+     +----------+      +----------+
agent/asio_agent.h  |        proxy_agent/e2_sm_agent.h
                    v
                |------|
                |  AP  |
                |------|
                    |
                    v
                |------|
                |  EP  |
                |------|
                    |
                    v 
            sent towards RIC

 
Details on proxy agent WS interface:

   +-----------+     +---------------+          +--------------+
   |   ASIO    | --> |    MSG_HDLR   | <------> |Serialization |  <--> RAN amarisoft (ws_ran_if.h)
   +-----------+     +---------------+          +--------------+
   (ws_ran_if.h)      (ws_msg_hdlr.h)            (msg_json_ws.h)
                            |
                            v 
                    sent towards E2 interface or shared data ring
                    (notif_e2_ws.h/ringbuffer.h)
 
 
2. Details on proxy agent handling of the 5 O-RAN E2 PROCEDURES

2.1 Subscription request procedure

once that the subscription request is accepted from the proxy agent and the reply has been sent to the RIC, the WS interface will create its own timer (WS-timer) along with the one that is from E2 interface (E2-timer) and will start fetching proactively data from the RAN at regular pace. The data will be filled into a global data structure modeled as a ring buffer by WS interface and read by E2 one when its E2-timer will expire.

2.2 Insert procedure

We forecast to forward the request from E2 to WS interface of the proxy agent with blocking mechanism. A detailed analysis of this design is still in progress.

2.3 Policy procedure

It is still to be investigated into details.

2.4 Control procedure

We forecast to forward the request from E2 to WS interface of the proxy agent with blocking mechanism. It is still to be investigated into details.

2.5 Ran function

E2 setup procedure is initiated by proxy server that will need to have WS interface read information from the RAN before forwarding it to the E2 interface that
will then send it to the RIC.

3. other information

Reusing the same connection of WS for all the service models.